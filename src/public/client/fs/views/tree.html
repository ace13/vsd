<script type="text/ng-template" id="tree-node.html">
  <a ng-right-click="rightClickNode($event, data)" ng-click="clickNode($event, data);">
    <i ng-class="getIconClassName(data)"></i>&nbsp;{{data.name}}
  </a>
  <ul ng-if="data.isDirectory && isExpanded(data)">
      <li
        ng-repeat="data in data.children | filter: filterModules | orderBy : ['-isDirectory', 'name']"
        ng-include="'tree-node.html'"
        ng-class="getClassName(data)"></li>
  </ul>
</script>
<!--
<ul class="fs-tree">
  <li ng-repeat="data in tree.children | filter: nodeModules | orderBy : ['name']" ng-include="'tree-node.html'" ng-class="getClassName(data)"></li>
</ul> -->
<ul class="fs-tree">
  <li ng-repeat="data in model.tree.children | filter: notModules | orderBy : ['-isDirectory', 'name']" ng-include="'tree-node.html'" ng-class="getClassName(data)"></li>
</ul>
<ul class="fs-menu dropdown-menu" ng-show="treeData.showMenu" style="top: {{menuY}}px; left: {{menuX}}px;" ng-mouseleave="treeData.showMenu = false;">
  <li><a ng-click="rename($event, active);" href="#"><i class="icon-pencil"></i>&nbsp;Rename</a></li>
  <li class="divider"></li>
  <li><a ng-click="setPasteBuffer($event, active, 'cut');" href="#"><i class="icon-scissors"></i>&nbsp;Cut</a></li>
  <li><a ng-click="setPasteBuffer($event, active, 'copy');" href="#"><i class="icon-copy"></i>&nbsp;Copy</a></li>
  <li ng-show="showPaste($event, active)">
    <a ng-click="paste($event, active);" href="#"><i class="icon-paste"></i>&nbsp;Paste</a>
  </li>
  <li ng-show="active.isDirectory" class="divider"></li>
  <li ng-show="active.isDirectory"><a ng-click="mkfile($event, active);" href="#"><i class="icon-file"></i>&nbsp;Add new file</a></li>
  <li ng-show="active.isDirectory"><a ng-click="mkdir($event, active);" href="#"><i class="icon-folder"></i>&nbsp;Add new folder</a></li>
  <li class="divider"></li>
  <li><a ng-click="delete($event, active);" href="#"><i class="icon-remove"></i>&nbsp;Delete</a></li>
</ul>
