<script type="text/ng-template" id="tree-node.html">
  <a ng-if="!data.isDirectory" ng-click="gotoFile(data);">
    <i ng-class="getIconClassName(data)" style="color: {{color(data)}}"></i>&nbsp;{{data.name}}
  </a>
  <a ng-if="data.isDirectory" ng-click="clickNode(data);">
    <i ng-class="getIconClassName(data)"></i>&nbsp;{{data.name}}
  </a>
  <ul ng-if="data.isDirectory && isExpanded(data)">
    <li ng-repeat="data in data.children | filter: filterModules | orderBy : ['-isDirectory', 'name']" ng-include="'tree-node.html'" ng-class="getClassName(data)"></li>
  </ul>
</script>

<ul class="fs-tree tree">
  <li ng-repeat="data in model.tree.children | orderBy : ['-isDirectory', 'name']" ng-include="'tree-node.html'" ng-class="getClassName(data)"></li>
</ul>